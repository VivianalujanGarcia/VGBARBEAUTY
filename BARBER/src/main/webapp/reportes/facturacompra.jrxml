<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="30f3c805-2715-4610-ab90-dc5ab81ba731">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="detallecompra" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\Usuario\\Desktop\\BARBERIA\\BARBER\\src\\main\\webapp\\reportes\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT 
	c.id,
    c.fecha,
    c.total,
    c.estado,
    c.numero,
    c.condicion,
    CONCAT(p.nombre) AS nombre_proveedor,
    p.ruc AS ruc_proveedor,

    CASE 
        WHEN c.condicion = 'contado' THEN 'X' 
        ELSE ' ' 
    END AS contado,
    CASE 
        WHEN c.condicion = 'credito' THEN 'X' 
        ELSE ' ' 
    END AS credito
   
FROM 
    public.compras c
JOIN 
    public.proveedores p ON c.id_proveedor = p.id_proveedor 
WHERE 
    c.id =$P{detallecompra}]]>
	</queryString>
	<field name="id" class="java.lang.Integer"/>
	<field name="fecha" class="java.sql.Date"/>
	<field name="total" class="java.lang.Integer"/>
	<field name="estado" class="java.lang.String"/>
	<field name="numero" class="java.lang.Integer"/>
	<field name="condicion" class="java.lang.String"/>
	<field name="nombre_proveedor" class="java.lang.String"/>
	<field name="ruc_proveedor" class="java.lang.String"/>
	<field name="contado" class="java.lang.String"/>
	<field name="credito" class="java.lang.String"/>
	<title>
		<band height="123" splitType="Stretch">
			<textField>
				<reportElement x="274" y="22" width="17" height="8" uuid="9c34167a-d911-4723-94ec-75ca1258989c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement x="-2" y="0" width="553" height="103" uuid="7c77f9f3-48c6-450b-a405-385479c6e66f"/>
			</rectangle>
			<staticText>
				<reportElement x="32" y="12" width="259" height="46" uuid="44392322-7531-428b-91a9-70eca0029c01"/>
				<textElement textAlignment="Center">
					<font size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[FACTURA COMPRA]]></text>
			</staticText>
			<staticText>
				<reportElement x="67" y="61" width="185" height="31" uuid="b4c62769-ccf6-4778-9013-4c0e1cbcfa3c"/>
				<textElement textAlignment="Right">
					<font size="24" isBold="true"/>
				</textElement>
				<text><![CDATA[NÂ°]]></text>
			</staticText>
			<textField>
				<reportElement x="266" y="61" width="89" height="31" uuid="92ebede7-6ac8-4e0d-8d55-83894cb8ee83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="24"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{numero}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="384" splitType="Stretch">
			<rectangle>
				<reportElement x="388" y="6" width="168" height="16" uuid="816719d3-2088-4c3d-8ec2-95a128e390c9"/>
			</rectangle>
			<rectangle>
				<reportElement x="1" y="23" width="387" height="17" uuid="bccaa69e-9119-44b5-b733-2ff649f6cd0b"/>
			</rectangle>
			<rectangle>
				<reportElement x="1" y="6" width="387" height="17" uuid="16d1fbb4-1024-43ea-9ee0-951ace419d05"/>
			</rectangle>
			<rectangle>
				<reportElement x="2" y="322" width="387" height="20" uuid="e51f843b-2537-4170-ac87-5db048482c8b"/>
			</rectangle>
			<rectangle>
				<reportElement x="389" y="303" width="168" height="40" uuid="912a8835-6185-4fad-8038-66f8cf1370a7"/>
			</rectangle>
			<rectangle>
				<reportElement x="388" y="56" width="63" height="20" uuid="39842bcc-0d9f-47ab-8bb5-a7019a29aec2"/>
			</rectangle>
			<rectangle>
				<reportElement x="506" y="56" width="50" height="20" uuid="23f643b3-d9f3-4f2c-b7c2-016c623d0427"/>
			</rectangle>
			<rectangle>
				<reportElement x="451" y="56" width="55" height="20" uuid="7b2dd382-5809-4e29-b3d2-d48a64e6d83c"/>
			</rectangle>
			<rectangle>
				<reportElement x="388" y="24" width="88" height="32" uuid="05d6fc45-7d9c-4bef-b22e-9ec67dc4426e"/>
			</rectangle>
			<rectangle>
				<reportElement x="476" y="24" width="80" height="32" uuid="c9a8d7bd-21d3-45f7-893f-e9e841cfffaf"/>
			</rectangle>
			<rectangle>
				<reportElement x="2" y="56" width="387" height="20" uuid="3744f4a3-f841-4675-8ade-7f2e9032193a"/>
			</rectangle>
			<rectangle>
				<reportElement x="389" y="282" width="63" height="20" uuid="772a8dd8-fa74-4310-9e5f-2697aa932ed4"/>
			</rectangle>
			<rectangle>
				<reportElement x="2" y="302" width="387" height="20" uuid="6891350f-8095-4fb8-b2a8-8fe9a10deb6f"/>
			</rectangle>
			<staticText>
				<reportElement x="244" y="322" width="67" height="20" uuid="9317a266-8f50-4c14-8b04-987b01d0644c"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[TOTAL IVA]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="200" width="118" height="20" uuid="b0072a2a-ff6b-4023-9357-4c870174f9b2"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Nombre o Razon Social:]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="184" width="100" height="20" uuid="05aac053-1f5a-4a95-8849-64fe0421ec40"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Fecha De Emision :]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="323" width="71" height="20" uuid="2c1df892-ca68-4582-82c4-1e492866f17b"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[ LIQ IVA: 5%]]></text>
			</staticText>
			<rectangle>
				<reportElement x="507" y="77" width="50" height="205" uuid="fb405fac-a879-4d2a-baaa-880e00c3093a"/>
			</rectangle>
			<staticText>
				<reportElement x="2" y="302" width="100" height="20" uuid="2ef0ffbc-33b6-4ae3-9301-738e30f416e5"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[ SON GS.]]></text>
			</staticText>
			<textField>
				<reportElement x="389" y="302" width="168" height="40" uuid="90916a7d-4f8a-488f-96d4-8b5a9cf39dc0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement x="389" y="77" width="63" height="205" uuid="b1b28d5a-160d-4729-9c5d-a6e451c2e294"/>
			</rectangle>
			<rectangle>
				<reportElement x="2" y="184" width="387" height="16" uuid="db4af41c-6b19-42bc-ab61-6285b263646d"/>
			</rectangle>
			<staticText>
				<reportElement x="452" y="233" width="55" height="20" uuid="68967d6a-ea25-4b8a-ba2f-0f5a1e71cd46"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[5%]]></text>
			</staticText>
			<staticText>
				<reportElement x="388" y="28" width="72" height="20" uuid="c8ef6329-3059-46c9-945d-bb7aea944b32"/>
				<text><![CDATA[  CONTADO]]></text>
			</staticText>
			<rectangle>
				<reportElement x="2" y="217" width="387" height="15" uuid="8d70849a-0973-4261-b32c-9c1c028a8fa1"/>
			</rectangle>
			<rectangle>
				<reportElement x="507" y="282" width="50" height="20" uuid="71b26c93-f941-431a-b8d6-c0bb2519426b"/>
			</rectangle>
			<staticText>
				<reportElement x="102" y="233" width="195" height="20" uuid="b2a5c8c3-11ec-4c2e-82ee-9a855347dab9"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[DESCRIPCION O SERVICIO]]></text>
			</staticText>
			<rectangle>
				<reportElement x="452" y="77" width="55" height="205" uuid="ad1d051b-500c-4bf0-988d-7127ff916dbc"/>
			</rectangle>
			<rectangle>
				<reportElement x="297" y="77" width="92" height="205" uuid="0f57475d-9c16-4001-b90f-1b1dd0e6ce68"/>
			</rectangle>
			<staticText>
				<reportElement x="297" y="58" width="92" height="20" uuid="9e355022-e2d3-49cb-85b0-bfb90ec3ad5f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[PRECIO]]></text>
			</staticText>
			<rectangle>
				<reportElement x="452" y="282" width="55" height="20" uuid="dbc9766c-6a79-431a-9fb0-7ef03930e005"/>
			</rectangle>
			<staticText>
				<reportElement x="2" y="217" width="61" height="15" uuid="8d41b866-7d3f-46ac-95dd-1c7c2f85d4fd"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Ruc / ci:]]></text>
			</staticText>
			<staticText>
				<reportElement x="128" y="322" width="26" height="20" uuid="566e53c1-91e2-4944-8007-822ee41a4dc6"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[10%]]></text>
			</staticText>
			<rectangle>
				<reportElement x="102" y="77" width="195" height="205" uuid="748707ef-a88b-4653-b7dd-cc4ee12ab8fe"/>
			</rectangle>
			<staticText>
				<reportElement x="1" y="233" width="100" height="20" uuid="cdb44bbe-fe17-49bf-b6f6-6a064e7bf95b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[CANTIDAD]]></text>
			</staticText>
			<rectangle>
				<reportElement x="2" y="282" width="387" height="20" uuid="03df1266-7072-4ad2-975c-bdf84ee2b70b"/>
			</rectangle>
			<staticText>
				<reportElement x="473" y="28" width="70" height="20" uuid="880952e7-3b05-49f4-903f-d0a5a9bf37cc"/>
				<text><![CDATA[  CREDITO]]></text>
			</staticText>
			<rectangle>
				<reportElement x="1" y="77" width="100" height="205" uuid="5f492150-9d60-4c12-a7b3-f4b2da9e0fca"/>
			</rectangle>
			<staticText>
				<reportElement x="2" y="282" width="100" height="20" uuid="fa24c704-f68b-4920-ba38-ad25bd30a94b"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[ SUB TOTALES]]></text>
			</staticText>
			<staticText>
				<reportElement x="389" y="7" width="165" height="20" uuid="4e22affe-9f87-4906-b8bb-8e642fbe32e7"/>
				<textElement textAlignment="Center">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[CONDICION DE COMPRA]]></text>
			</staticText>
			<rectangle>
				<reportElement x="449" y="28" width="17" height="16" uuid="1660312b-ee25-4ea9-b455-82cf4ff48945"/>
			</rectangle>
			<rectangle>
				<reportElement x="534" y="28" width="17" height="16" uuid="4513b198-9794-4593-8a2d-af7d2a352e2f"/>
			</rectangle>
			<staticText>
				<reportElement x="388" y="56" width="63" height="20" uuid="77a3e81f-6b25-4c83-b6a3-81fc554683db"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[EXENTA]]></text>
			</staticText>
			<staticText>
				<reportElement x="451" y="56" width="55" height="20" uuid="3dd9cea3-a54b-4b46-9bdb-8a0324bcef1d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[5%]]></text>
			</staticText>
			<staticText>
				<reportElement x="506" y="56" width="50" height="20" uuid="cd2e2016-ac39-4186-b06b-cc5123e6023f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[10%]]></text>
			</staticText>
			<staticText>
				<reportElement x="3" y="5" width="100" height="20" uuid="62ee8d8b-b625-4979-99df-41c07bcb1477"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Fecha De Emision :]]></text>
			</staticText>
			<rectangle>
				<reportElement x="1" y="40" width="387" height="15" uuid="8b93366e-666d-4f6c-8666-c287f2274825"/>
			</rectangle>
			<staticText>
				<reportElement x="103" y="57" width="195" height="20" uuid="68d2c963-d458-4234-b88b-f958eb3f6bf4"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[DESCRIPCION O SERVICIO]]></text>
			</staticText>
			<staticText>
				<reportElement x="3" y="41" width="61" height="15" uuid="147443d2-0b1d-41fd-bf7d-40e82b17819e"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Ruc / ci:]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="57" width="100" height="20" uuid="e4a3a95c-f491-4aab-a6bc-da296fffaf68"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[CANTIDAD]]></text>
			</staticText>
			<staticText>
				<reportElement x="3" y="22" width="118" height="20" uuid="a79a3fcb-c4fb-499d-a46c-dccd5935cbcb"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[  Nombre o Razon Social:]]></text>
			</staticText>
			<textField>
				<reportElement x="103" y="8" width="242" height="14" uuid="ae2c7cb0-16ec-4dd1-ad0c-f26b25a28e56"/>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="120" y="21" width="225" height="20" uuid="299ccce2-7446-42b9-b8c1-bf735fbfda22"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nombre_proveedor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="67" y="38" width="100" height="20" uuid="a95f0ed9-6be7-4830-9e49-c0a54eabd3e5"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{ruc_proveedor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="449" y="28" width="17" height="16" uuid="f59183d9-ad8d-40e1-949a-8aa11bc5f5ca"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{contado}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="534" y="28" width="17" height="16" uuid="ce576f38-6d14-4a31-a3bd-7f6400cffad0"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{credito}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="3" y="76" width="200" height="100" uuid="fb5c54a5-098f-4bee-b527-b318c130213f"/>
				<subreportParameter name="detallecompra">
					<subreportParameterExpression><![CDATA[$P{detallecompra}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[".\\detcompra.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
